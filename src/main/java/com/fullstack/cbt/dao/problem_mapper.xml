<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fullstack.cbt.dao.ProblemDAO">

	<select id="subjectList" resultType="com.fullstack.cbt.dto.SubjectDTO">
		SELECT su_idx, su_name FROM cbt_subject WHERE su_is_blind = 0
	</select>
	
	<select id="subjectChapList" resultType="com.fullstack.cbt.dto.SubjectChapterDTO">
		SELECT sc_idx, sc_name, su_idx FROM cbt_subject_chapter WHERE su_idx = #{param1}
	</select>
	
	<insert id="problemWrite" parameterType="hashmap">
		INSERT INTO cbt_problem_create(
			su_idx, sc_idx, pc_problem,pc_answer,pc_answer1,pc_answer2
			,pc_answer3,pc_answer4,pc_explan,pc_difficulty
			) VALUES
		(#{su_idx}, #{sc_idx}, #{pc_problem},#{pc_answer},#{pc_answer1},#{pc_answer2}
		,#{pc_answer3},#{pc_answer4},#{pc_explan},#{pc_difficulty})
	</insert>
	
	<select id="problemList" resultType="com.fullstack.cbt.dto.ProblemDTO">	
		SELECT pc_idx, su_idx, sc_idx, pc_problem, pc_difficulty, pc_date, su_name, sc_name
			FROM 
			cbt_problem_create 
				NATURAL JOIN 
			cbt_subject 
				NATURAL JOIN 
			cbt_subject_chapter
	</select>
	

</mapper>